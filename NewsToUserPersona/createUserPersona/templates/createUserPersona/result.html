<!doctype html>
<html lang="en">

<head>
  <title>Title</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.0-beta1 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

</head>

<body>
  <header>
    <!-- place navbar here -->
  </header>
  <main>
    {% if user_persona %}
    <ul>
      {% for each in user_persona %}
      <div class="container_untuk_drag shadow p-5 m-3">
        <p class="fw-bold">{{ each.name }}</p>
        {% for goal in each.goals %}
        <p class="draggable p-2 shadow-sm rounded-2 my-2" draggable="true">
          {{ goal }}
        </p>
        {% endfor %}
      </div>
      {% endfor %}
    </ul>
    {% else %}
      <p>No polls are available.</p>
    {% endif %}
    
  </main>
  <footer>
    <!-- place footer here -->
  </footer>


  <!-- Bootstrap JavaScript Libraries -->
  <script>
    const draggables = document.querySelectorAll('.draggable')
    const containers = document.querySelectorAll('.container_untuk_drag')

    draggables.forEach(draggable => {
      draggable.addEventListener('dragstart', () => {
        console.log('drag mulai')
        draggable.classList.add('dragging')
      })

      draggable.addEventListener('dragend', () => {
        console.log('drag selesai')
        draggable.classList.remove('dragging')
      })


    })

    containers.forEach(container => {
      container.addEventListener('dragover', e => {
        e.preventDefault()

        console.log('lagi ada yang didrag')

        const draggable = document.querySelector('.dragging')
        container.appendChild(draggable)
      })


    })
  </script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
    integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
    integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous">
  </script>
</body>

</html>